(this.webpackJsonploginmui=this.webpackJsonploginmui||[]).push([[8],{216:function(e,t,n){"use strict";var r=n(8),a=n(22),i=n(50),o=n(51),c=n(53),s=n(52),d=n(0),l=n.n(d),p=n(222),h=n.n(p),u=n(1),f=["children","triggerLogin"],g=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.triggerLogin,i=Object(a.a)(e,f);return Object(u.jsx)("p",Object(r.a)(Object(r.a)({style:{border:"none",outline:"none",background:"white"},onClick:n},i),{},{children:t}))}}]),n}(l.a.Component);t.a=h()(g)},219:function(e,t){},327:function(e,t,n){"use strict";n.r(t),n.d(t,"Login",(function(){return W}));var r=n(4),a=n(8),i=n(69),o=n.n(i),c=n(91),s=n(50),d=n(51),l=n(53),p=n(52),h=n(0),u=n.n(h),f=n(65),g=n(324),b=n(329),v=n(41),m=n(11),y=n(49),j=n.n(y),O=n(13),x=n.n(O);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(L(t)),t.handleErrored=t.handleErrored.bind(L(t)),t.handleChange=t.handleChange.bind(L(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(L(t)),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},a.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},a.executeAsync=function(){var e=this;return new Promise((function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()}))},a.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},a.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},a.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},a.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},a.handleRecaptchaRef=function(e){this.captcha=e},a.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return u.a.createElement("div",w({},t,{ref:this.handleRecaptchaRef}))},r}(u.a.Component);S.displayName="ReCAPTCHA",S.propTypes={sitekey:x.a.string.isRequired,onChange:x.a.func,grecaptcha:x.a.object,theme:x.a.oneOf(["dark","light"]),type:x.a.oneOf(["image","audio"]),tabindex:x.a.number,onExpired:x.a.func,onErrored:x.a.func,size:x.a.oneOf(["compact","normal","invisible"]),stoken:x.a.string,hl:x.a.string,badge:x.a.oneOf(["bottomright","bottomleft","inline"])},S.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var R=n(42),_=n.n(R);function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var C={},E=0;var I="onloadcallback";var N,U,A=(N=function(){return"https://"+(("undefined"!==typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+I+"&render=explicit"},U=(U={callbackName:I,globalName:"grecaptcha"})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){var n,r;function a(e,n){var r;return(r=t.call(this,e,n)||this).state={},r.__scriptURL="",r}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=a.prototype;return i.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+E++),this.__scriptLoaderID},i.setupScriptURL=function(){return this.__scriptURL="function"===typeof N?N():N,this.__scriptURL},i.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},i.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=C[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[U.callbackName]},i.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),r=U,a=r.globalName,i=r.callbackName,o=r.scriptId;if(a&&"undefined"!==typeof window[a]&&(C[t]={loaded:!0,observers:{}}),C[t]){var c=C[t];return c&&(c.loaded||c.errored)?void this.asyncScriptLoaderHandleLoad(c):void(c.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var s={};s[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},C[t]={loaded:!1,observers:s};var d=document.createElement("script");for(var l in d.src=t,d.async=!0,U.attributes)d.setAttribute(l,U.attributes[l]);o&&(d.id=o);var p=function(e){if(C[t]){var n=C[t].observers;for(var r in n)e(n[r])&&delete n[r]}};i&&"undefined"!==typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),d.onload=function(){var e=C[t];e&&(e.loaded=!0,p((function(t){return!i&&(t(e),!0)})))},d.onerror=function(){var e=C[t];e&&(e.errored=!0,p((function(t){return t(e),!0})))},document.body.appendChild(d)},i.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===U.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var r=C[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===U.removeOnUnmount&&delete C[e])},i.render=function(){var t=U.globalName,n=this.props,r=(n.asyncScriptOnLoad,n.forwardedRef),a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!==typeof window&&(a[t]="undefined"!==typeof window[t]?window[t]:void 0),a.ref=r,Object(h.createElement)(e,a)},a}(h.Component),r=Object(h.forwardRef)((function(e,t){return Object(h.createElement)(n,k({},e,{forwardedRef:t}))}));return r.displayName="AsyncScriptLoader("+t+")",r.propTypes={asyncScriptOnLoad:x.a.func},_()(r,e)})(S),D=A,P=n(218),B=n.n(P),F=n(216),T=n(223),q=n(320),z=n(271),H=n(1),W=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).cred=j.a.create({baseURL:"http://localhost:3001/u"}),r.handleSocialLogin=function(e){r.cred.get("?email=".concat(e._profile.email)).then((function(t){if(t.data[0]){var n=[e._profile.email,t.data[0]];localStorage.setItem("credentials",JSON.stringify(n)),r.setState({flag:1,captcha:1})}else alert("need to register user first")}))},r.handleSocialLoginFailure=function(e){console.error(e)},r.state={flag:0,captcha:0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!=localStorage.getItem("credentials")&&this.setState({flag:1,captcha:0}),console.log("in login");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){var e=this;this.cred.get("?email=".concat(document.getElementById("mail").value)).then((function(t){if(console.log(t.data),void 0==t.data[0].password)alert("log in using your social media");else if(B.a.AES.decrypt(t.data[0].password,document.getElementById("mail").value).toString(B.a.enc.Utf8)==document.getElementById("pass").value)if(1==e.state.captcha){console.log(document.getElementById("mail").value);var n=[document.getElementById("mail").value,t.data[0]];localStorage.setItem("credentials",JSON.stringify(n)),e.setState({flag:1,captcha:1})}else alert("the captcha is necessary"+e.state.captcha);else alert("Enter Proper Passcode")})).catch((function(e){return alert("enter proper details")}))}},{key:"onChange",value:function(e){this.state.captcha=1,this.setState(Object(a.a)({},this.state)),console.log("Captcha value:",e)}},{key:"render",value:function(){var e,t,n=this;return Object(H.jsxs)("div",{children:[Object(H.jsxs)(f.a,{component:"form",sx:{"& > :not(style)":{my:"1rem",mx:"10rem",width:"100ch"}},autoComplete:"off",children:[Object(H.jsx)("h1",{className:"my-4",children:"Enter Your Credentials"}),Object(H.jsx)(g.a,(e={label:"Outlined secondary",id:"mail"},Object(r.a)(e,"label","Enter Your Email"),Object(r.a)(e,"color","secondary"),e)),Object(H.jsx)(g.a,(t={label:"Outlined secondary",id:"pass"},Object(r.a)(t,"label","Enter Your Passcode"),Object(r.a)(t,"color","secondary"),t)),Object(H.jsx)(D,{sitekey:"6Le0fBwdAAAAALSa-rSQjbXFvs3lXCwsi3nPa47C",onChange:function(){return n.onChange()}}),Object(H.jsx)(b.a,{className:"mb-2",variant:"contained",onClick:function(){return n.validate()},children:"Log In"}),Object(H.jsxs)(q.a,{children:[Object(H.jsx)(z.a,{className:"mb-4",children:Object(H.jsx)(F.a,{provider:"google",appId:"592593185581-qk5enpiqver56v50kamu0nd3fvimunvu.apps.googleusercontent.com",onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure,children:Object(H.jsx)(b.a,{variant:"outlined",color:"error",startIcon:Object(H.jsx)(T.SocialIcon,{network:"google"}),children:"Log in With Google"})})}),Object(H.jsx)(z.a,{children:Object(H.jsx)(F.a,{provider:"facebook",appId:"224795383074770",onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure,children:Object(H.jsx)(b.a,{variant:"outlined",color:"primary",startIcon:Object(H.jsx)(T.SocialIcon,{network:"facebook"}),children:"Log in With Facebook"})})})]}),Object(H.jsx)("br",{}),Object(H.jsx)(v.b,{style:{color:"blue"},to:"/regis",children:"Register User"})]}),1==this.state.flag&&Object(H.jsx)(m.a,{to:"/dash"})]})}}]),n}(h.Component);t.default=W}}]);
//# sourceMappingURL=8.91ef6cfc.chunk.js.map