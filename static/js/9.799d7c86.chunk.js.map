{"version":3,"sources":["component/SocialBotton.js","component/Registration.js"],"names":["SocialButton","this","props","children","triggerLogin","style","border","outline","background","onClick","React","Component","SocialLogin","Registration","USER","axios","create","baseURL","regForEmail","RegExp","regexname","regexpass","useState","pflag","setFlag","name","email","cpass","pass","fields","error","setError","show","setShow","history","useHistory","fNameInput","useRef","lNameInput","emailInput","passInput","cPassInput","validate","current","value","test","addUser","a","ciphertext","CryptoJS","AES","encrypt","toString","post","handleSocialLogin","user","get","_profile","then","res","data","arr","localStorage","setItem","JSON","stringify","push","removeItem","console","log","handleSocialLoginFailure","err","variant","onClose","dismissible","Heading","Group","controlId","id","width","label","inputRef","className","Text","color","to","provider","appId","onLoginSuccess","onLoginFailure","startIcon","network"],"mappings":"gOAGMA,E,4JACF,WACI,MAA6CC,KAAKC,MAA1CC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAiBF,EAAnC,iBACA,OACI,2CAAGG,MAAO,CAAEC,OAAQ,OAAQC,QAAS,OAAQC,WAAY,SAAWC,QAASL,GAAkBF,GAA/F,aACKC,S,GALUO,IAAMC,WAWlBC,QAAYZ,I,kSCDZ,SAASa,IACpB,IAAMC,EAAOC,IAAMC,OAAO,CAAEC,QAAS,4BAC/BC,EAAcC,OAAO,8BACrBC,EAAYD,OAAO,oBACnBE,EAAYF,OAAO,8DACzB,EAAyBG,mBAAS,GAAlC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0BF,mBAAS,CAAEG,KAAM,GAAIC,MAAO,GAAIC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,KAAvF,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBT,oBAAS,GAAjC,mBAAOU,EAAP,KAAaC,EAAb,KACIC,EAAUC,cACRC,EAAaC,iBAAO,MACpBC,EAAaD,iBAAO,MAEpBE,EAAaF,iBAAO,MACpBG,EAAYH,iBAAO,MACnBI,EAAaJ,iBAAO,MAC1B,SAASK,IAC2B,IAA5BN,EAAWO,QAAQC,OAA2C,IAA5BN,EAAWK,QAAQC,OAA2C,IAA5BL,EAAWI,QAAQC,OAA0C,IAA3BJ,EAAUG,QAAQC,OAA2C,IAA5BH,EAAWE,QAAQC,OAC1Jb,EAAS,2BAAKD,GAAN,IAAaD,OAAQ,8BAC7BI,GAAQ,KAGRH,EAAMD,OAAS,GACfC,EAAML,KAASL,EAAUyB,KAAKT,EAAWO,QAAQC,QAAWxB,EAAUyB,KAAKP,EAAWK,QAAQC,OAAyG,GAA/F,6FAExGd,EAAMJ,MAAUR,EAAY2B,KAAKN,EAAWI,QAAQC,OAAgC,GAAtB,oBAC9Dd,EAAMF,KAASP,EAAUwB,KAAKL,EAAUG,QAAQC,OAAmJ,GAAzId,EAAMF,KAAO,0HACvEE,EAAMH,MAASa,EAAUG,QAAQC,OAASH,EAAWE,QAAQC,MAAS,6CAA+C,GACrHb,EAAS,eAAKD,IACI,IAAdA,EAAML,MAA6B,IAAfK,EAAMJ,OAA8B,IAAfI,EAAMH,OAA6B,IAAdG,EAAMF,MAA8B,IAAhBE,EAAMD,QA5BjE,mCA6BvBiB,IA7BuB,4CAkCnC,4BAAAC,EAAA,6DACQC,EAAaC,IAASC,IAAIC,QAAQX,EAAUG,QAAQC,MAAOL,EAAWI,QAAQC,OAAOQ,WAD7F,SAEUtC,EAAKuC,KAAL,GAAc,CAChB,MAASd,EAAWI,QAAQC,MAC5B,SAAYI,EACZ,KAAO,GAAP,OAAWZ,EAAWO,QAAQC,MAA9B,YAAuCN,EAAWK,QAAQC,OAC1D,WAAc,CACV,OAAU,GACV,UAAa,CACT,aAAgB,EAChB,cAAiB,EACjB,cAAiB,MAXjC,OAgBIR,EAAWO,QAAQC,MAAQ,GAC3BN,EAAWK,QAAQC,MAAQ,GAC3BJ,EAAUG,QAAQC,MAAQ,GAC1BL,EAAWI,QAAQC,MAAQ,GAC3BH,EAAWE,QAAQC,MAAQ,GAC3BpB,EAAQ,GArBZ,4CAlCmC,sBAyDnC,IAAM8B,EAAoB,SAACC,GAEvBzC,EAAK0C,IAAL,iBAAmBD,EAAKE,SAAS/B,QAASgC,KAA1C,uCAA+C,WAAOC,GAAP,SAAAZ,EAAA,yDACxB,MAAfY,EAAIC,KAAK,GAD8B,gCAEjC9C,EAAKuC,KAAL,GAAc,CAChB,MAASE,EAAKE,SAAS/B,MACvB,KAAO,GAAP,OAAW6B,EAAKE,SAAShC,MACzB,WAAc,CACV,OAAU,GACV,UAAa,CACT,aAAgB,EAChB,cAAiB,EACjB,cAAiB,MAVU,uBAcjCX,EAAK0C,IAAL,iBAAmBD,EAAKE,SAAS/B,QAASgC,MAAK,SAAAC,GACjD,IAAIE,EAAM,CAACN,EAAKE,SAAS/B,MAAOiC,EAAIC,KAAK,IACzCE,aAAaC,QAAQ,cAAeC,KAAKC,UAAUJ,IACnD3B,EAAQgC,KAAK,YAjBsB,8BAsBvCnC,EAAS,2BAAKD,GAAN,IAAaD,OAAQ,6BAC7BI,GAAQ,GACR6B,aAAaK,WAAW,sDAxBe,4CAA/C,uDA4BAC,QAAQC,IAAId,IAGVe,EAA2B,SAACC,GAC9BH,QAAQtC,MAAMyC,IAElB,OACI,gCACKvC,GAAQ,eAAC,IAAD,CAAOwC,QAAQ,SAASC,QAAS,kBAAMxC,GAAQ,IAAQyC,aAAW,EAAlE,UACL,cAAC,IAAMC,QAAP,0CACA,4BACK7C,EAAMD,YAGf,eAAC,IAAD,WACI,qEACA,eAAC,IAAD,WACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,cAAC,IAAK+C,MAAN,CAAYC,UAAU,iBAAtB,SACI,cAAC,IAAD,CAAWC,GAAG,iBAAiBzE,MAAO,CAAE0E,MAAO,QAAUC,MAAM,mBAAmBC,SAAU7C,EAAYoC,QAAQ,iBAGxH,cAAC,IAAD,UACI,cAAC,IAAKI,MAAN,CAAYC,UAAU,iBAAtB,SACI,cAAC,IAAD,CAAWC,GAAG,iBAAiBzE,MAAO,CAAE0E,MAAO,QAAUC,MAAM,kBAAkBC,SAAU3C,EAAYkC,QAAQ,oBAI3H,cAAC,IAAD,CAAKU,UAAU,OAAf,SACI,cAAC,IAAKC,KAAN,CAAWD,UAAU,cAArB,SACKpD,EAAML,SAGf,cAAC,IAAD,UACI,cAAC,IAAKmD,MAAN,CAAYC,UAAU,iBAAtB,SACI,cAAC,IAAD,CAAWC,GAAG,iBAAiBzE,MAAO,CAAE0E,MAAO,QAAUC,MAAM,cAAcC,SAAU1C,EAAYiC,QAAQ,iBAGnH,cAAC,IAAD,CAAKU,UAAU,OAAf,SACI,cAAC,IAAKC,KAAN,CAAWD,UAAU,cAArB,SACKpD,EAAMJ,UAGf,cAAC,IAAD,UACI,cAAC,IAAKkD,MAAN,CAAYM,UAAU,OAAOL,UAAU,iBAAvC,SACI,cAAC,IAAD,CAAWC,GAAG,iBAAiBzE,MAAO,CAAE0E,MAAO,QAAUC,MAAM,iBAAiBC,SAAUzC,EAAWgC,QAAQ,iBAGrH,cAAC,IAAD,CAAKU,UAAU,OAAf,SACI,cAAC,IAAKC,KAAN,CAAWD,UAAU,cAArB,SACKpD,EAAMF,SAGf,cAAC,IAAD,UACI,cAAC,IAAKgD,MAAN,CAAYM,UAAU,OAAOL,UAAU,iBAAvC,SACI,cAAC,IAAD,CAAWC,GAAG,iBAAiBzE,MAAO,CAAE0E,MAAO,QAAUC,MAAM,mBAAmBC,SAAUxC,EAAY+B,QAAQ,iBAGxH,cAAC,IAAD,CAAKU,UAAU,OAAf,SACI,cAAC,IAAKC,KAAN,CAAWD,UAAU,cAArB,SACKpD,EAAMH,UAGf,cAAC,IAAD,CAAQuD,UAAU,YAAYV,QAAQ,YAAY/D,QAAS,kBAAMiC,KAAjE,sBACA,uBACA,cAAC,IAAD,CAAMrC,MAAO,CAAE+E,MAAO,QAAUC,GAAG,IAAnC,6BACU,GAAT9D,GAAc,cAAC,IAAD,CAAU8D,GAAG,WAKpC,eAAC,IAAD,CAAKH,UAAU,mDAAf,UACI,oBAAIA,UAAU,eAAd,qDACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CACII,SAAS,SACTC,MAAM,2EACNC,eAAgBlC,EAChBmC,eAAgBnB,EAJpB,SAMI,cAAC,IAAD,CAAQE,QAAQ,WAAWY,MAAM,QAAQM,UAAW,cAAC,aAAD,CAAYC,QAAQ,WAAxE,sCAGR,cAAC,IAAD,UACI,cAAC,IAAD,CACIL,SAAS,WACTC,MAAM,kBACNC,eAAgBlC,EAChBmC,eAAgBnB,EAJpB,SAMI,cAAC,IAAD,CAAQE,QAAQ,WAAWY,MAAM,UAAUM,UAAW,cAAC,aAAD,CAAYC,QAAQ,aAA1E","file":"static/js/9.799d7c86.chunk.js","sourcesContent":["import React from \"react\";\r\nimport SocialLogin from \"react-social-login\";\r\n\r\nclass SocialButton extends React.Component {\r\n    render() {\r\n        const { children, triggerLogin, ...props } = this.props;\r\n        return (\r\n            <p style={{ border: 'none', outline: 'none', background: 'white' }} onClick={triggerLogin} {...props}>\r\n                {children}\r\n            </p>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SocialLogin(SocialButton);","\r\nimport React, { useRef, useState } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Link, NavLink } from 'react-router-dom';\r\nimport { Container, Form, FormControl, FormLabel, Row, Col, Alert } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router';\r\nimport Button from '@mui/material/Button';\r\nimport { TextField } from '@mui/material';\r\nimport axios from 'axios'\r\nimport CryptoJS from 'crypto-js';\r\nimport SocialBotton from './SocialBotton';\r\nimport { SocialIcon } from 'react-social-icons';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport default function Registration() {\r\n    const USER = axios.create({ baseURL: 'http://localhost:3001/u' });\r\n    const regForEmail = RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r\n    const regexname = RegExp(/^[A-Za-z]{2,30}$/);\r\n    const regexpass = RegExp(\"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&-+=()]).{8,}\");\r\n    const [pflag, setFlag] = useState(0);\r\n    const [error, setError] = useState({ name: '', email: '', cpass: '', pass: '', fields: '' });\r\n    const [show, setShow] = useState(false);\r\n    let history = useHistory();\r\n    const fNameInput = useRef(null);\r\n    const lNameInput = useRef(null);\r\n    // const uNameInput = useRef(null);\r\n    const emailInput = useRef(null);\r\n    const passInput = useRef(null);\r\n    const cPassInput = useRef(null);\r\n    function validate() {\r\n        if (fNameInput.current.value == '' || lNameInput.current.value == '' || emailInput.current.value == '' || passInput.current.value == '' || cPassInput.current.value == '') {\r\n            setError({ ...error, fields: 'All fields are necessary' });\r\n            setShow(true);\r\n        }\r\n        else {\r\n            error.fields = '';\r\n            error.name = (!regexname.test(fNameInput.current.value) || !regexname.test(lNameInput.current.value)) ? \"Both Name Field should contain a minimum of 3 characters and should contain only alphabets\" : \"\";\r\n\r\n            error.email = (!regForEmail.test(emailInput.current.value)) ? \"Enter valid email\" : \"\";\r\n            error.pass = (!regexpass.test(passInput.current.value)) ? error.pass = \"Password should must have atlesr 8 characters be Alphanumeric and contain 1 uppercase & 1 lowercase with a special char\" : \"\";\r\n            error.cpass = (passInput.current.value != cPassInput.current.value) ? \"Password and confirm password must be same\" : \"\";\r\n            setError({ ...error })\r\n            if (error.name == \"\" && error.email == \"\" && error.cpass == \"\" && error.pass == \"\" && error.fields == \"\") {\r\n                addUser();\r\n\r\n            }\r\n        }\r\n    }\r\n    async function addUser() {\r\n        let ciphertext = CryptoJS.AES.encrypt(passInput.current.value, emailInput.current.value).toString();\r\n        await USER.post(``, {\r\n            \"email\": emailInput.current.value,\r\n            \"password\": ciphertext,\r\n            \"name\": `${fNameInput.current.value} ${lNameInput.current.value}`,\r\n            \"budgetData\": {\r\n                \"budget\": [],\r\n                \"moneyData\": {\r\n                    \"budgetAmount\": 0,\r\n                    \"expenseAmount\": 0,\r\n                    \"pendingAmount\": 0\r\n                }\r\n            }\r\n        });\r\n\r\n        fNameInput.current.value = '';\r\n        lNameInput.current.value = '';\r\n        passInput.current.value = '';\r\n        emailInput.current.value = '';\r\n        cPassInput.current.value = '';\r\n        setFlag(1);\r\n    }\r\n    const handleSocialLogin = (user) => {\r\n\r\n        USER.get(`?email=${user._profile.email}`).then(async (res) => {\r\n            if (res.data[0] == null) {\r\n                await USER.post(``, {\r\n                    \"email\": user._profile.email,\r\n                    \"name\": `${user._profile.name}`,\r\n                    \"budgetData\": {\r\n                        \"budget\": [],\r\n                        \"moneyData\": {\r\n                            \"budgetAmount\": 0,\r\n                            \"expenseAmount\": 0,\r\n                            \"pendingAmount\": 0\r\n                        }\r\n                    }\r\n                });\r\n                await USER.get(`?email=${user._profile.email}`).then(res => {\r\n                    let arr = [user._profile.email, res.data[0]];\r\n                    localStorage.setItem('credentials', JSON.stringify(arr));\r\n                    history.push('/dash')\r\n                });\r\n\r\n            }\r\n            else {\r\n                setError({ ...error, fields: 'The user already exists' });\r\n                setShow(true);\r\n                localStorage.removeItem('oauth2_ss::http://localhost:3000::1::DEFAULT::_ss_')\r\n            }\r\n        })\r\n\r\n        console.log(user);\r\n    };\r\n\r\n    const handleSocialLoginFailure = (err) => {\r\n        console.error(err);\r\n    };\r\n    return (\r\n        <div>\r\n            {show && <Alert variant=\"danger\" onClose={() => setShow(false)} dismissible>\r\n                <Alert.Heading>Oh snap! You some an error!</Alert.Heading>\r\n                <p>\r\n                    {error.fields}\r\n                </p>\r\n            </Alert>}\r\n            <Container >\r\n                <h1>Hello User!! Join Us By Registering</h1>\r\n                <Row>\r\n                    <Col>\r\n                        <Form>\r\n                            <Row>\r\n                                <Col>\r\n                                    <Form.Group controlId=\"formBasicEmail\">\r\n                                        <TextField id=\"standard-basic\" style={{ width: '100%' }} label=\"Enter first name\" inputRef={fNameInput} variant=\"standard\" />\r\n                                    </Form.Group>\r\n                                </Col>\r\n                                <Col>\r\n                                    <Form.Group controlId=\"formBasicEmail\">\r\n                                        <TextField id=\"standard-basic\" style={{ width: '100%' }} label=\"Enter Last name\" inputRef={lNameInput} variant=\"standard\" />\r\n                                    </Form.Group>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"mb-3\">\r\n                                <Form.Text className=\"text-danger\">\r\n                                    {error.name}\r\n                                </Form.Text>\r\n                            </Row>\r\n                            <Row >\r\n                                <Form.Group controlId=\"formBasicEmail\">\r\n                                    <TextField id=\"standard-basic\" style={{ width: '100%' }} label=\"Enter Email\" inputRef={emailInput} variant=\"standard\" />\r\n                                </Form.Group>\r\n                            </Row>\r\n                            <Row className=\"mb-3\">\r\n                                <Form.Text className=\"text-danger\">\r\n                                    {error.email}\r\n                                </Form.Text>\r\n                            </Row>\r\n                            <Row >\r\n                                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                                    <TextField id=\"standard-basic\" style={{ width: '100%' }} label=\"Enter Password\" inputRef={passInput} variant=\"standard\" />\r\n                                </Form.Group>\r\n                            </Row>\r\n                            <Row className=\"mb-3\">\r\n                                <Form.Text className=\"text-danger\">\r\n                                    {error.pass}\r\n                                </Form.Text>\r\n                            </Row>\r\n                            <Row >\r\n                                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                                    <TextField id=\"standard-basic\" style={{ width: '100%' }} label=\"Confirm Password\" inputRef={cPassInput} variant=\"standard\" />\r\n                                </Form.Group>\r\n                            </Row>\r\n                            <Row className=\"mb-3\">\r\n                                <Form.Text className=\"text-danger\">\r\n                                    {error.cpass}\r\n                                </Form.Text>\r\n                            </Row>\r\n                            <Button className=\"mx-1 mb-4\" variant=\"contained\" onClick={() => validate()}  >Register</Button>\r\n                            <br />\r\n                            <Link style={{ color: 'blue' }} to=\"/\">Login Over Here</Link>\r\n                            {pflag == 1 && <Redirect to='/' />}\r\n\r\n                        </Form>\r\n                    </Col>\r\n\r\n                    <Col className='d-flex justify-content-center align-items-center' >\r\n                        <h3 className='text-primary'>Register with Your Social Media Account</h3>\r\n                        <Row>\r\n                            <Col className='mb-4'>\r\n                                <SocialBotton\r\n                                    provider=\"google\"\r\n                                    appId=\"592593185581-qk5enpiqver56v50kamu0nd3fvimunvu.apps.googleusercontent.com\"\r\n                                    onLoginSuccess={handleSocialLogin}\r\n                                    onLoginFailure={handleSocialLoginFailure}\r\n                                >\r\n                                    <Button variant=\"outlined\" color=\"error\" startIcon={<SocialIcon network=\"google\" />} >Register With Google</Button>\r\n                                </SocialBotton>\r\n                            </Col>\r\n                            <Col>\r\n                                <SocialBotton\r\n                                    provider=\"facebook\"\r\n                                    appId=\"224795383074770\"\r\n                                    onLoginSuccess={handleSocialLogin}\r\n                                    onLoginFailure={handleSocialLoginFailure}\r\n                                >\r\n                                    <Button variant=\"outlined\" color=\"primary\" startIcon={<SocialIcon network=\"facebook\" />} >Register With Facebook</Button>\r\n                                </SocialBotton>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div >\r\n    )\r\n}\r\n"],"sourceRoot":""}